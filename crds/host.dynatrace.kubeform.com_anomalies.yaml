apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  creationTimestamp: null
  labels:
    app.kubernetes.io/name: dynatrace.kubeform.com
    app.kubernetes.io/part-of: kubeform.com
  name: anomalies.host.dynatrace.kubeform.com
spec:
  group: host.dynatrace.kubeform.com
  names:
    kind: Anomalies
    listKind: AnomaliesList
    plural: anomalies
    singular: anomalies
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - jsonPath: .status.phase
      name: Phase
      type: string
    name: v1alpha1
    schema:
      openAPIV3Schema:
        properties:
          apiVersion:
            description: 'APIVersion defines the versioned schema of this representation
              of an object. Servers should convert recognized schemas to the latest
              internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
            type: string
          kind:
            description: 'Kind is a string value representing the REST resource this
              object represents. Servers may infer this from the endpoint the client
              submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
            type: string
          metadata:
            type: object
          spec:
            properties:
              backendRef:
                description: LocalObjectReference contains enough information to let
                  you locate the referenced object inside the same namespace.
                properties:
                  name:
                    description: 'Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                      TODO: Add other useful fields. apiVersion, kind, uid?'
                    type: string
                type: object
              providerRef:
                description: LocalObjectReference contains enough information to let
                  you locate the referenced object inside the same namespace.
                properties:
                  name:
                    description: 'Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                      TODO: Add other useful fields. apiVersion, kind, uid?'
                    type: string
                type: object
              resource:
                properties:
                  connections:
                    description: Configuration of lost connection detection
                    properties:
                      enabled:
                        description: The detection is enabled (`true`) or disabled
                          (`false`)
                        type: boolean
                      enabledOnGracefulShutdowns:
                        description: Alert (`true`) on graceful host shutdowns
                        type: boolean
                    required:
                    - enabled
                    - enabledOnGracefulShutdowns
                    type: object
                  cpu:
                    description: Configuration of high CPU saturation detection
                    properties:
                      enabled:
                        description: The detection is enabled (`true`) or disabled
                          (`false`)
                        type: boolean
                      thresholds:
                        description: Custom thresholds for high CPU saturation. If
                          not set then the automatic mode is used
                        properties:
                          saturation:
                            description: Alert if CPU usage is higher than *X*% in
                              3 out of 5 samples
                            format: int64
                            type: integer
                        required:
                        - saturation
                        type: object
                    required:
                    - enabled
                    type: object
                  disks:
                    description: Configuration of disk related anomalies
                    properties:
                      inodes:
                        description: Configuration of low disk inodes number detection
                        properties:
                          enabled:
                            description: The detection is enabled (`true`) or disabled
                              (`false`)
                            type: boolean
                          thresholds:
                            description: Custom thresholds for low disk inodes number.
                              If not set, automatic mode is used
                            properties:
                              percentage:
                                description: Alert if percentage of available inodes
                                  is lower than *X*% in 3 out of 5 samples
                                format: int64
                                type: integer
                            required:
                            - percentage
                            type: object
                        required:
                        - enabled
                        type: object
                      space:
                        description: Configuration of low disk space detection
                        properties:
                          enabled:
                            description: The detection is enabled (`true`) or disabled
                              (`false`)
                            type: boolean
                          thresholds:
                            description: Custom thresholds for low disk space. If
                              not set, automatic mode is used
                            properties:
                              percentage:
                                description: Alert if free disk space is lower than
                                  *X*% in 3 out of 5 samples
                                format: int64
                                type: integer
                            required:
                            - percentage
                            type: object
                        required:
                        - enabled
                        type: object
                      speed:
                        description: Configuration of slow running disks detection
                        properties:
                          enabled:
                            description: The detection is enabled (`true`) or disabled
                              (`false`)
                            type: boolean
                          thresholds:
                            description: Custom thresholds for slow running disks.
                              If not set, the automatic mode is used
                            properties:
                              writeAndReadTime:
                                description: Alert if disk read/write time is higher
                                  than *X* milliseconds in 3 out of 5 samples
                                format: int64
                                type: integer
                            required:
                            - writeAndReadTime
                            type: object
                        required:
                        - enabled
                        type: object
                    type: object
                  gc:
                    description: Configuration of high Garbage Collector activity
                      detection
                    properties:
                      enabled:
                        description: The detection is enabled (`true`) or disabled
                          (`false`)
                        type: boolean
                      thresholds:
                        description: Custom thresholds for high GC activity. If not
                          set, automatic mode is used.   Meeting **any** of these
                          conditions triggers an alert
                        properties:
                          suspensionPercentage:
                            description: GC suspension is higher than *X*% in 3 out
                              of 5 samples
                            format: int64
                            type: integer
                          timePercentage:
                            description: GC time is higher than *X*% in 3 out of 5
                              samples
                            format: int64
                            type: integer
                        required:
                        - suspensionPercentage
                        - timePercentage
                        type: object
                    required:
                    - enabled
                    type: object
                  id:
                    type: string
                  java:
                    description: Configuration of Java related anomalies
                    properties:
                      outOfMemory:
                        description: Configuration of Java out of memory problems
                          detection
                        properties:
                          enabled:
                            description: The detection is enabled (`true`) or disabled
                              (`false`)
                            type: boolean
                          thresholds:
                            description: Custom thresholds for Java out of memory.
                              If not set, automatic mode is used
                            properties:
                              exceptionCount:
                                description: Alert if the number of Java out of memory
                                  exceptions is *X* per minute or higher
                                format: int64
                                type: integer
                            required:
                            - exceptionCount
                            type: object
                        required:
                        - enabled
                        type: object
                      outOfThreads:
                        description: Configuration of Java out of threads problems
                          detection
                        properties:
                          enabled:
                            description: The detection is enabled (`true`) or disabled
                              (`false`)
                            type: boolean
                          thresholds:
                            description: Custom thresholds for Java out of threads
                              detection. If not set, automatic mode is used
                            properties:
                              exceptionCount:
                                description: Alert if the number of Java out of threads
                                  exceptions is *X* per minute or higher
                                format: int64
                                type: integer
                            required:
                            - exceptionCount
                            type: object
                        required:
                        - enabled
                        type: object
                    type: object
                  memory:
                    description: Configuration of high memory usage detection
                    properties:
                      enabled:
                        description: The detection is enabled (`true`) or disabled
                          (`false`)
                        type: boolean
                      thresholds:
                        description: Custom thresholds for high memory usage. If not
                          set then the automatic mode is used. **Both** conditions
                          must be met to trigger an alert
                        properties:
                          linux:
                            description: Custom thresholds for Linux
                            properties:
                              pageFaults:
                                description: Memory page fault rate is higher than
                                  *X* faults per second
                                format: int64
                                type: integer
                              usage:
                                description: Memory usage is higher than *X*%
                                format: int64
                                type: integer
                            required:
                            - pageFaults
                            - usage
                            type: object
                          windows:
                            description: Custom thresholds for Windows
                            properties:
                              pageFaults:
                                description: Memory page fault rate is higher than
                                  *X* faults per second
                                format: int64
                                type: integer
                              usage:
                                description: Memory usage is higher than *X*%
                                format: int64
                                type: integer
                            required:
                            - pageFaults
                            - usage
                            type: object
                        required:
                        - linux
                        - windows
                        type: object
                    required:
                    - enabled
                    type: object
                  network:
                    description: Configuration of network related anomalies
                    properties:
                      connectivity:
                        description: Configuration of TCP connectivity problems detection
                        properties:
                          enabled:
                            description: The detection is enabled (`true`) or disabled
                              (`false`)
                            type: boolean
                          thresholds:
                            description: Custom thresholds for TCP connection problems.
                              If not set, automatic mode is used.   **All** of these
                              conditions must be met to trigger an alert
                            properties:
                              failedConnections:
                                description: Number of failed connections is higher
                                  than *X* connections per minute in 3 out of 5 samples
                                format: int64
                                type: integer
                              newConnectionFailures:
                                description: Percentage of new connection failures
                                  is higher than *X*% in 3 out of 5 samples
                                format: int64
                                type: integer
                            required:
                            - failedConnections
                            - newConnectionFailures
                            type: object
                        required:
                        - enabled
                        type: object
                      droppedPackets:
                        description: Configuration of high number of dropped packets
                          detection
                        properties:
                          enabled:
                            description: The detection is enabled (`true`) or disabled
                              (`false`)
                            type: boolean
                          thresholds:
                            description: Custom thresholds for dropped packets. If
                              not set, automatic mode is used.   **All** of these
                              conditions must be met to trigger an alert
                            properties:
                              droppedPackets:
                                description: Receive/transmit dropped packet percentage
                                  is higher than *X*% in 3 out of 5 samples
                                format: int64
                                type: integer
                              totalPacketsRate:
                                description: Total receive/transmit packets rate is
                                  higher than *X* packets per second in 3 out of 5
                                  samples
                                format: int64
                                type: integer
                            required:
                            - droppedPackets
                            - totalPacketsRate
                            type: object
                        required:
                        - enabled
                        type: object
                      errors:
                        description: Configuration of high number of network errors
                          detection
                        properties:
                          enabled:
                            description: The detection is enabled (`true`) or disabled
                              (`false`)
                            type: boolean
                          thresholds:
                            description: Custom thresholds for network errors. If
                              not set, automatic mode is used.   **All** of these
                              conditions must be met to trigger an alert
                            properties:
                              errorsPercentage:
                                description: Receive/transmit error packet percentage
                                  is higher than *X*% in 3 out of 5 samples
                                format: int64
                                type: integer
                              totalPacketsRate:
                                description: Total receive/transmit packets rate is
                                  higher than *X* packets per second in 3 out of 5
                                  samples
                                format: int64
                                type: integer
                            required:
                            - errorsPercentage
                            - totalPacketsRate
                            type: object
                        required:
                        - enabled
                        type: object
                      retransmission:
                        description: Configuration of high retransmission rate detection
                        properties:
                          enabled:
                            description: The detection is enabled (`true`) or disabled
                              (`false`)
                            type: boolean
                          thresholds:
                            description: Custom thresholds for high retransmission
                              rate. If not set, automatic mode is used.   **All**
                              of these conditions must be met to trigger an alert
                            properties:
                              retransmissionRate:
                                description: Retransmission rate is higher than *X*%
                                  in 3 out of 5 samples
                                format: int64
                                type: integer
                              retransmittedPackets:
                                description: Number of retransmitted packets is higher
                                  than *X* packets per minute in 3 out of 5 samples
                                format: int64
                                type: integer
                            required:
                            - retransmissionRate
                            - retransmittedPackets
                            type: object
                        required:
                        - enabled
                        type: object
                      utilization:
                        description: Configuration of high network utilization detection
                        properties:
                          enabled:
                            description: The detection is enabled (`true`) or disabled
                              (`false`)
                            type: boolean
                          thresholds:
                            description: Custom thresholds for high network utilization.
                              If not set, automatic mode is used
                            properties:
                              utilization:
                                description: Alert if sent/received traffic utilization
                                  is higher than *X*% in 3 out of 5 samples
                                format: int64
                                type: integer
                            required:
                            - utilization
                            type: object
                        required:
                        - enabled
                        type: object
                    type: object
                type: object
              state:
                properties:
                  connections:
                    description: Configuration of lost connection detection
                    properties:
                      enabled:
                        description: The detection is enabled (`true`) or disabled
                          (`false`)
                        type: boolean
                      enabledOnGracefulShutdowns:
                        description: Alert (`true`) on graceful host shutdowns
                        type: boolean
                    required:
                    - enabled
                    - enabledOnGracefulShutdowns
                    type: object
                  cpu:
                    description: Configuration of high CPU saturation detection
                    properties:
                      enabled:
                        description: The detection is enabled (`true`) or disabled
                          (`false`)
                        type: boolean
                      thresholds:
                        description: Custom thresholds for high CPU saturation. If
                          not set then the automatic mode is used
                        properties:
                          saturation:
                            description: Alert if CPU usage is higher than *X*% in
                              3 out of 5 samples
                            format: int64
                            type: integer
                        required:
                        - saturation
                        type: object
                    required:
                    - enabled
                    type: object
                  disks:
                    description: Configuration of disk related anomalies
                    properties:
                      inodes:
                        description: Configuration of low disk inodes number detection
                        properties:
                          enabled:
                            description: The detection is enabled (`true`) or disabled
                              (`false`)
                            type: boolean
                          thresholds:
                            description: Custom thresholds for low disk inodes number.
                              If not set, automatic mode is used
                            properties:
                              percentage:
                                description: Alert if percentage of available inodes
                                  is lower than *X*% in 3 out of 5 samples
                                format: int64
                                type: integer
                            required:
                            - percentage
                            type: object
                        required:
                        - enabled
                        type: object
                      space:
                        description: Configuration of low disk space detection
                        properties:
                          enabled:
                            description: The detection is enabled (`true`) or disabled
                              (`false`)
                            type: boolean
                          thresholds:
                            description: Custom thresholds for low disk space. If
                              not set, automatic mode is used
                            properties:
                              percentage:
                                description: Alert if free disk space is lower than
                                  *X*% in 3 out of 5 samples
                                format: int64
                                type: integer
                            required:
                            - percentage
                            type: object
                        required:
                        - enabled
                        type: object
                      speed:
                        description: Configuration of slow running disks detection
                        properties:
                          enabled:
                            description: The detection is enabled (`true`) or disabled
                              (`false`)
                            type: boolean
                          thresholds:
                            description: Custom thresholds for slow running disks.
                              If not set, the automatic mode is used
                            properties:
                              writeAndReadTime:
                                description: Alert if disk read/write time is higher
                                  than *X* milliseconds in 3 out of 5 samples
                                format: int64
                                type: integer
                            required:
                            - writeAndReadTime
                            type: object
                        required:
                        - enabled
                        type: object
                    type: object
                  gc:
                    description: Configuration of high Garbage Collector activity
                      detection
                    properties:
                      enabled:
                        description: The detection is enabled (`true`) or disabled
                          (`false`)
                        type: boolean
                      thresholds:
                        description: Custom thresholds for high GC activity. If not
                          set, automatic mode is used.   Meeting **any** of these
                          conditions triggers an alert
                        properties:
                          suspensionPercentage:
                            description: GC suspension is higher than *X*% in 3 out
                              of 5 samples
                            format: int64
                            type: integer
                          timePercentage:
                            description: GC time is higher than *X*% in 3 out of 5
                              samples
                            format: int64
                            type: integer
                        required:
                        - suspensionPercentage
                        - timePercentage
                        type: object
                    required:
                    - enabled
                    type: object
                  id:
                    type: string
                  java:
                    description: Configuration of Java related anomalies
                    properties:
                      outOfMemory:
                        description: Configuration of Java out of memory problems
                          detection
                        properties:
                          enabled:
                            description: The detection is enabled (`true`) or disabled
                              (`false`)
                            type: boolean
                          thresholds:
                            description: Custom thresholds for Java out of memory.
                              If not set, automatic mode is used
                            properties:
                              exceptionCount:
                                description: Alert if the number of Java out of memory
                                  exceptions is *X* per minute or higher
                                format: int64
                                type: integer
                            required:
                            - exceptionCount
                            type: object
                        required:
                        - enabled
                        type: object
                      outOfThreads:
                        description: Configuration of Java out of threads problems
                          detection
                        properties:
                          enabled:
                            description: The detection is enabled (`true`) or disabled
                              (`false`)
                            type: boolean
                          thresholds:
                            description: Custom thresholds for Java out of threads
                              detection. If not set, automatic mode is used
                            properties:
                              exceptionCount:
                                description: Alert if the number of Java out of threads
                                  exceptions is *X* per minute or higher
                                format: int64
                                type: integer
                            required:
                            - exceptionCount
                            type: object
                        required:
                        - enabled
                        type: object
                    type: object
                  memory:
                    description: Configuration of high memory usage detection
                    properties:
                      enabled:
                        description: The detection is enabled (`true`) or disabled
                          (`false`)
                        type: boolean
                      thresholds:
                        description: Custom thresholds for high memory usage. If not
                          set then the automatic mode is used. **Both** conditions
                          must be met to trigger an alert
                        properties:
                          linux:
                            description: Custom thresholds for Linux
                            properties:
                              pageFaults:
                                description: Memory page fault rate is higher than
                                  *X* faults per second
                                format: int64
                                type: integer
                              usage:
                                description: Memory usage is higher than *X*%
                                format: int64
                                type: integer
                            required:
                            - pageFaults
                            - usage
                            type: object
                          windows:
                            description: Custom thresholds for Windows
                            properties:
                              pageFaults:
                                description: Memory page fault rate is higher than
                                  *X* faults per second
                                format: int64
                                type: integer
                              usage:
                                description: Memory usage is higher than *X*%
                                format: int64
                                type: integer
                            required:
                            - pageFaults
                            - usage
                            type: object
                        required:
                        - linux
                        - windows
                        type: object
                    required:
                    - enabled
                    type: object
                  network:
                    description: Configuration of network related anomalies
                    properties:
                      connectivity:
                        description: Configuration of TCP connectivity problems detection
                        properties:
                          enabled:
                            description: The detection is enabled (`true`) or disabled
                              (`false`)
                            type: boolean
                          thresholds:
                            description: Custom thresholds for TCP connection problems.
                              If not set, automatic mode is used.   **All** of these
                              conditions must be met to trigger an alert
                            properties:
                              failedConnections:
                                description: Number of failed connections is higher
                                  than *X* connections per minute in 3 out of 5 samples
                                format: int64
                                type: integer
                              newConnectionFailures:
                                description: Percentage of new connection failures
                                  is higher than *X*% in 3 out of 5 samples
                                format: int64
                                type: integer
                            required:
                            - failedConnections
                            - newConnectionFailures
                            type: object
                        required:
                        - enabled
                        type: object
                      droppedPackets:
                        description: Configuration of high number of dropped packets
                          detection
                        properties:
                          enabled:
                            description: The detection is enabled (`true`) or disabled
                              (`false`)
                            type: boolean
                          thresholds:
                            description: Custom thresholds for dropped packets. If
                              not set, automatic mode is used.   **All** of these
                              conditions must be met to trigger an alert
                            properties:
                              droppedPackets:
                                description: Receive/transmit dropped packet percentage
                                  is higher than *X*% in 3 out of 5 samples
                                format: int64
                                type: integer
                              totalPacketsRate:
                                description: Total receive/transmit packets rate is
                                  higher than *X* packets per second in 3 out of 5
                                  samples
                                format: int64
                                type: integer
                            required:
                            - droppedPackets
                            - totalPacketsRate
                            type: object
                        required:
                        - enabled
                        type: object
                      errors:
                        description: Configuration of high number of network errors
                          detection
                        properties:
                          enabled:
                            description: The detection is enabled (`true`) or disabled
                              (`false`)
                            type: boolean
                          thresholds:
                            description: Custom thresholds for network errors. If
                              not set, automatic mode is used.   **All** of these
                              conditions must be met to trigger an alert
                            properties:
                              errorsPercentage:
                                description: Receive/transmit error packet percentage
                                  is higher than *X*% in 3 out of 5 samples
                                format: int64
                                type: integer
                              totalPacketsRate:
                                description: Total receive/transmit packets rate is
                                  higher than *X* packets per second in 3 out of 5
                                  samples
                                format: int64
                                type: integer
                            required:
                            - errorsPercentage
                            - totalPacketsRate
                            type: object
                        required:
                        - enabled
                        type: object
                      retransmission:
                        description: Configuration of high retransmission rate detection
                        properties:
                          enabled:
                            description: The detection is enabled (`true`) or disabled
                              (`false`)
                            type: boolean
                          thresholds:
                            description: Custom thresholds for high retransmission
                              rate. If not set, automatic mode is used.   **All**
                              of these conditions must be met to trigger an alert
                            properties:
                              retransmissionRate:
                                description: Retransmission rate is higher than *X*%
                                  in 3 out of 5 samples
                                format: int64
                                type: integer
                              retransmittedPackets:
                                description: Number of retransmitted packets is higher
                                  than *X* packets per minute in 3 out of 5 samples
                                format: int64
                                type: integer
                            required:
                            - retransmissionRate
                            - retransmittedPackets
                            type: object
                        required:
                        - enabled
                        type: object
                      utilization:
                        description: Configuration of high network utilization detection
                        properties:
                          enabled:
                            description: The detection is enabled (`true`) or disabled
                              (`false`)
                            type: boolean
                          thresholds:
                            description: Custom thresholds for high network utilization.
                              If not set, automatic mode is used
                            properties:
                              utilization:
                                description: Alert if sent/received traffic utilization
                                  is higher than *X*% in 3 out of 5 samples
                                format: int64
                                type: integer
                            required:
                            - utilization
                            type: object
                        required:
                        - enabled
                        type: object
                    type: object
                type: object
              terminationPolicy:
                enum:
                - Delete
                - DoNotTerminate
                type: string
              updatePolicy:
                enum:
                - Destroy
                - DoNotDestroy
                type: string
            required:
            - providerRef
            - resource
            type: object
          status:
            properties:
              conditions:
                items:
                  properties:
                    lastTransitionTime:
                      description: Last time the condition transitioned from one status
                        to another. This should be when the underlying condition changed.  If
                        that is not known, then using the time when the API field
                        changed is acceptable.
                      format: date-time
                      type: string
                    message:
                      description: A human readable message indicating details about
                        the transition. This field may be empty.
                      type: string
                    observedGeneration:
                      description: If set, this represents the .metadata.generation
                        that the condition was set based upon. For instance, if .metadata.generation
                        is currently 12, but the .status.condition[x].observedGeneration
                        is 9, the condition is out of date with respect to the current
                        state of the instance.
                      format: int64
                      type: integer
                    reason:
                      description: The reason for the condition's last transition
                        in CamelCase. The specific API may choose whether or not this
                        field is considered a guaranteed API. This field may not be
                        empty.
                      type: string
                    status:
                      description: Status of the condition, one of True, False, Unknown.
                      type: string
                    type:
                      description: Type of condition in CamelCase or in foo.example.com/CamelCase.
                        Many .condition.type values are consistent across resources
                        like Available, but because arbitrary conditions can be useful
                        (see .node.status.conditions), the ability to deconflict is
                        important.
                      type: string
                  required:
                  - lastTransitionTime
                  - message
                  - reason
                  - status
                  - type
                  type: object
                type: array
              observedGeneration:
                description: Resource generation, which is updated on mutation by
                  the API Server.
                format: int64
                type: integer
              phase:
                description: Status defines the set of statuses a resource can have.
                type: string
            type: object
        type: object
    served: true
    storage: true
    subresources:
      status: {}
